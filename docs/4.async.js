(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{yawU:function(e,t,a){"use strict";var r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("p0pE")),n=r(a("d6i3")),c=a("k9Yu"),l=a("03io"),u={namespace:"user",state:{data:[],params:{},roleList:[],permission:{}},effects:{getList:n.default.mark(function e(t,a){var r,s,l,u,o,p;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,s=a.call,l=a.put,e.prev=2,e.next=5,s(c.getUserList,r);case 5:if(u=e.sent,o=u.code,p=u.data,o){e.next=11;break}return e.next=11,l({type:"setData",payload:{data:p,params:r}});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](2),console.log(e.t0);case 16:case"end":return e.stop()}},e,null,[[2,13]])}),create:n.default.mark(function e(t,a){var r,s,l,u,o,p,d,i;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,s=t.callback,l=a.call,u=a.put,o=a.select,e.prev=2,e.next=5,l(c.create,r);case 5:if(p=e.sent,d=p.code,d){e.next=14;break}return e.next=10,o(e=>e.user.params);case 10:return i=e.sent,e.next=13,u({type:"getList",payload:i});case 13:s&&s();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](2),console.log(e.t0);case 19:case"end":return e.stop()}},e,null,[[2,16]])}),update:n.default.mark(function e(t,a){var r,s,l,u,o,p,d,i;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,s=t.callback,l=a.call,u=a.put,o=a.select,e.prev=2,e.next=5,l(c.update,r);case 5:if(p=e.sent,d=p.code,d){e.next=14;break}return e.next=10,o(e=>e.user.params);case 10:return i=e.sent,e.next=13,u({type:"getList",payload:i});case 13:s&&s();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](2),console.log(e.t0);case 19:case"end":return e.stop()}},e,null,[[2,16]])}),updateState:n.default.mark(function e(t,a){var r,s,l,u,o,p,d,i,f,x,v;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,s=t.callback,l=a.call,u=a.put,o=a.select,e.prev=2,e.next=5,l(c.updateState,r);case 5:if(p=e.sent,d=p.code,p.message,d){e.next=19;break}return e.next=11,o(e=>e.user);case 11:return i=e.sent,f=i.data,x=i.params,v=f.rows.findIndex(e=>{return e.id==r.id}),f.rows[v].status=r.status,e.next=18,u({type:"setData",payload:{data:f,params:x}});case 18:s&&s();case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](2),console.log(e.t0);case 24:case"end":return e.stop()}},e,null,[[2,21]])}),delete:n.default.mark(function e(t,a){var r,s,l,u,o,p,d,i,f,x,v;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,s=t.callback,l=a.call,u=a.put,o=a.select,e.prev=2,e.next=5,l(c.deleteUser,r);case 5:if(p=e.sent,d=p.code,d){e.next=18;break}return e.next=10,o(e=>e.user);case 10:return i=e.sent,f=i.data,x=i.params,v=f.rows.findIndex(e=>{return e.id==r.id}),f.rows[v].status=2,e.next=17,u({type:"setData",payload:{data:f,params:x}});case 17:s&&s();case 18:e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](2),console.log(e.t0);case 23:case"end":return e.stop()}},e,null,[[2,20]])}),getRoleDropList:n.default.mark(function e(t,a){var r,s,c,u,o;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.call,s=a.put,e.prev=1,e.next=4,r(l.getRoleDropList);case 4:if(c=e.sent,u=c.code,o=c.data,u){e.next=10;break}return e.next=10,s({type:"setRoleList",payload:o});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),console.log(e.t0);case 15:case"end":return e.stop()}},e,null,[[1,12]])}),getPermission:n.default.mark(function e(t,a){var r,s,l,u,o,p,d;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,s=t.callback,l=a.call,u=a.put,e.prev=2,e.next=5,l(c.getUserPermission,r);case 5:if(o=e.sent,p=o.code,d=o.data,p){e.next=12;break}return e.next=11,u({type:"setPermission",payload:d});case 11:s&&s();case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](2),console.log(e.t0);case 17:case"end":return e.stop()}},e,null,[[2,14]])}),savePermission:n.default.mark(function e(t,a){var r,s,l,u,o;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,s=t.callback,l=a.call,e.prev=2,e.next=5,l(c.savePermission,r);case 5:u=e.sent,o=u.code,o||s&&s(),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),console.log(e.t0);case 13:case"end":return e.stop()}},e,null,[[2,10]])})},reducers:{setData(e,t){var a=t.payload;return(0,s.default)({},e,{data:(0,s.default)({},a.data),params:(0,s.default)({},a.params)})},setRoleList(e,t){var a=t.payload;return(0,s.default)({},e,{roleList:a})},setPermission(e,t){var a=t.payload;return(0,s.default)({},e,{permission:a})}}};t.default=u}}]);