(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{yawU:function(e,t,a){"use strict";var r=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("MVZn")),s=r(a("o0o1")),c=a("k9Yu"),l=a("03io"),u={namespace:"user",state:{data:[],params:{},roleList:[],permission:{}},effects:{getList(e,t){return s.default.mark(function a(){var r,n,l,u,o,p;return s.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=e.payload,n=t.call,l=t.put,a.prev=2,a.next=5,n(c.getUserList,r);case 5:if(u=a.sent,o=u.code,p=u.data,o){a.next=11;break}return a.next=11,l({type:"setData",payload:{data:p,params:r}});case 11:a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](2),console.log(a.t0);case 16:case"end":return a.stop()}},a,null,[[2,13]])})()},create(e,t){return s.default.mark(function a(){var r,n,l,u,o,p,d,i;return s.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=e.payload,n=e.callback,l=t.call,u=t.put,o=t.select,a.prev=2,a.next=5,l(c.create,r);case 5:if(p=a.sent,d=p.code,d){a.next=14;break}return a.next=10,o(e=>e.user.params);case 10:return i=a.sent,a.next=13,u({type:"getList",payload:i});case 13:n&&n();case 14:a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](2),console.log(a.t0);case 19:case"end":return a.stop()}},a,null,[[2,16]])})()},update(e,t){return s.default.mark(function a(){var r,n,l,u,o,p,d,i;return s.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=e.payload,n=e.callback,l=t.call,u=t.put,o=t.select,a.prev=2,a.next=5,l(c.update,r);case 5:if(p=a.sent,d=p.code,d){a.next=14;break}return a.next=10,o(e=>e.user.params);case 10:return i=a.sent,a.next=13,u({type:"getList",payload:i});case 13:n&&n();case 14:a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](2),console.log(a.t0);case 19:case"end":return a.stop()}},a,null,[[2,16]])})()},updateState(e,t){return s.default.mark(function a(){var r,n,l,u,o,p,d,i,f,x,v;return s.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=e.payload,n=e.callback,l=t.call,u=t.put,o=t.select,a.prev=2,a.next=5,l(c.updateState,r);case 5:if(p=a.sent,d=p.code,p.message,d){a.next=19;break}return a.next=11,o(e=>e.user);case 11:return i=a.sent,f=i.data,x=i.params,v=f.rows.findIndex(e=>{return e.id==r.id}),f.rows[v].status=r.status,a.next=18,u({type:"setData",payload:{data:f,params:x}});case 18:n&&n();case 19:a.next=24;break;case 21:a.prev=21,a.t0=a["catch"](2),console.log(a.t0);case 24:case"end":return a.stop()}},a,null,[[2,21]])})()},delete(e,t){return s.default.mark(function a(){var r,n,l,u,o,p,d,i,f,x,v;return s.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=e.payload,n=e.callback,l=t.call,u=t.put,o=t.select,a.prev=2,a.next=5,l(c.deleteUser,r);case 5:if(p=a.sent,d=p.code,d){a.next=18;break}return a.next=10,o(e=>e.user);case 10:return i=a.sent,f=i.data,x=i.params,v=f.rows.findIndex(e=>{return e.id==r.id}),f.rows[v].status=2,a.next=17,u({type:"setData",payload:{data:f,params:x}});case 17:n&&n();case 18:a.next=23;break;case 20:a.prev=20,a.t0=a["catch"](2),console.log(a.t0);case 23:case"end":return a.stop()}},a,null,[[2,20]])})()},getRoleDropList(e,t){return s.default.mark(function e(){var a,r,n,c,u;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.call,r=t.put,e.prev=1,e.next=4,a(l.getRoleDropList);case 4:if(n=e.sent,c=n.code,u=n.data,c){e.next=10;break}return e.next=10,r({type:"setRoleList",payload:u});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),console.log(e.t0);case 15:case"end":return e.stop()}},e,null,[[1,12]])})()},getPermission(e,t){return s.default.mark(function a(){var r,n,l,u,o,p,d;return s.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=e.payload,n=e.callback,l=t.call,u=t.put,a.prev=2,a.next=5,l(c.getUserPermission,r);case 5:if(o=a.sent,p=o.code,d=o.data,p){a.next=12;break}return a.next=11,u({type:"setPermission",payload:d});case 11:n&&n();case 12:a.next=17;break;case 14:a.prev=14,a.t0=a["catch"](2),console.log(a.t0);case 17:case"end":return a.stop()}},a,null,[[2,14]])})()},savePermission(e,t){return s.default.mark(function a(){var r,n,l,u,o;return s.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=e.payload,n=e.callback,l=t.call,a.prev=2,a.next=5,l(c.savePermission,r);case 5:u=a.sent,o=u.code,o||n&&n(),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](2),console.log(a.t0);case 13:case"end":return a.stop()}},a,null,[[2,10]])})()}},reducers:{setData(e,t){var a=t.payload;return(0,n.default)({},e,{data:(0,n.default)({},a.data),params:(0,n.default)({},a.params)})},setRoleList(e,t){var a=t.payload;return(0,n.default)({},e,{roleList:a})},setPermission(e,t){var a=t.payload;return(0,n.default)({},e,{permission:a})}}};t.default=u}}]);