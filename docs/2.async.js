(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"z/Fi":function(e,t,a){"use strict";var r=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("MVZn")),c=r(a("o0o1")),s=a("Zi5M"),u=[],l=e=>{e.map(e=>{1==e.resource_type&&u.push(e.key),e.children&&e.children.length>0&&l(e.children)})},p={namespace:"resource",state:{data:[],expandedKeys:[],params:{},dropList:[]},effects:{getList(e,t){return c.default.mark(function a(){var r,n,u,l,p,o;return c.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=e.payload,n=t.call,u=t.put,a.prev=2,a.next=5,n(s.getResourceList,r);case 5:if(l=a.sent,p=l.code,o=l.data,p){a.next=11;break}return a.next=11,u({type:"setData",payload:{data:o,params:r}});case 11:a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](2),console.log(a.t0);case 16:case"end":return a.stop()}},a,null,[[2,13]])})()},getDropList(e,t){return c.default.mark(function a(){var r,n,u,l,p,o;return c.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=e.payload,n=t.call,u=t.put,a.prev=2,a.next=5,n(s.getResourceDropList,r);case 5:if(l=a.sent,p=l.code,o=l.data,p){a.next=11;break}return a.next=11,u({type:"setDropList",payload:{data:o,params:r}});case 11:a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](2),console.log(a.t0);case 16:case"end":return a.stop()}},a,null,[[2,13]])})()},create(e,t){return c.default.mark(function a(){var r,n,u,l,p,o,d,i;return c.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=e.payload,n=e.callback,u=t.call,l=t.put,p=t.select,a.prev=2,a.next=5,u(s.create,r);case 5:if(o=a.sent,d=o.code,d){a.next=14;break}return a.next=10,p(e=>e.resource.params);case 10:return i=a.sent,a.next=13,l({type:"getList",payload:i});case 13:n&&n();case 14:a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](2),console.log(a.t0);case 19:case"end":return a.stop()}},a,null,[[2,16]])})()},update(e,t){return c.default.mark(function a(){var r,n,u,l,p,o,d,i;return c.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=e.payload,n=e.callback,u=t.call,l=t.put,p=t.select,a.prev=2,a.next=5,u(s.update,r);case 5:if(o=a.sent,d=o.code,d){a.next=14;break}return a.next=10,p(e=>e.resource.params);case 10:return i=a.sent,a.next=13,l({type:"getList",payload:i});case 13:n&&n();case 14:a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](2),console.log(a.t0);case 19:case"end":return a.stop()}},a,null,[[2,16]])})()},delete(e,t){return c.default.mark(function a(){var r,n,u,l,p,o,d,i;return c.default.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=e.payload,n=e.callback,u=t.call,l=t.put,p=t.select,a.prev=2,a.next=5,u(s.deleteResource,r);case 5:if(o=a.sent,d=o.code,d){a.next=14;break}return a.next=10,p(e=>e.resource.params);case 10:return i=a.sent,a.next=13,l({type:"getList",payload:i});case 13:n&&n();case 14:a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](2),console.log(a.t0);case 19:case"end":return a.stop()}},a,null,[[2,16]])})()}},reducers:{setData(e,t){var a=t.payload;return l(a.data),(0,n.default)({},e,{data:a.data,expandedKeys:u,params:(0,n.default)({},a.params)})},setDropList(e,t){var a=t.payload;return(0,n.default)({},e,{dropList:a.data})}}};t.default=p}}]);